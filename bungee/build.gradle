plugins {
    id 'java'
}

group = rootProject.group
version = rootProject.version
archivesBaseName = 'Gongdaobei-Bungee-1.20'

java.toolchain.languageVersion.set(JavaLanguageVersion.of(17))

configurations.register('bungeeJar') {
    canBeConsumed = true
    canBeResolved = false
}

repositories {
    mavenCentral()
    maven { url 'https://oss.sonatype.org/content/repositories/snapshots' }
}

processResources {
    // noinspection UnnecessaryQualifiedReference
    filter org.apache.tools.ant.filters.ReplaceTokens, tokens: ['VERSION': rootProject.version]
}

dependencies {
    implementation project(path: ':util')
    compileOnly 'net.md-5:bungeecord-api:1.20-R0.1-SNAPSHOT'
}

jar {
    archiveClassifier.set('pure')
}

artifacts {
    bungeeJar jar
}
